(()=>{"use strict";self.onmessage=async t=>{if("__FRONTEND_NAV_CACHE__"===t.data.type){const e=t.data.url,s=await caches.open("pages");if(!await s.match(e,{ignoreSearch:!0})){const a=await fetch(e);if(a.ok){const c=a.clone();if(s.put(e,c),t.data.shouldCacheAggressively&&a.headers.get("Content-Type")?.includes("text/html"))try{const t=await a.text(),e=[],s=await caches.open("static-style-assets"),c=await caches.open("next-static-js-assets"),o=await caches.open("static-js-assets");for(const[a,c]of t.matchAll(/<link.*?href=['"](.*?)['"].*?>/g))/rel=['"]stylesheet['"]/.test(a)&&e.push(s.match(c).then(t=>t?Promise.resolve():s.add(c)));for(const[,s]of t.matchAll(/<script.*?src=['"](.*?)['"].*?>/g)){const t=/\/_next\/static.+\.js$/i.test(s)?c:o;e.push(t.match(s).then(e=>e?Promise.resolve():t.add(s)))}return await Promise.all(e)}catch{}}}return Promise.resolve()}return Promise.resolve()}})();